<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suno AI Music Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-hover:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .loading-dots::after {
            content: '';
            animation: loading-dots 1.5s infinite;
        }

        @keyframes loading-dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60% { content: '...'; }
            80%, 100% { content: ''; }
        }

        .progress-bar {
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 3s ease infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
    
    <!-- Header -->
    <div class="text-center py-8">
        <h1 class="text-4xl font-bold text-white mb-2 flex items-center justify-center gap-2">
            <svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"/>
            </svg>
            Suno AI Music Generator
        </h1>
        <p class="text-blue-200">Generate music from text using Suno AI • HackMIT 2025</p>
    </div>

    <div class="max-w-4xl mx-auto px-6">
        
        <!-- Setup Notice -->
        <div class="glass-effect rounded-2xl p-6 mb-6 border-yellow-500/30 bg-yellow-500/10">
            <div class="flex items-start gap-3">
                <svg class="h-5 w-5 text-yellow-400 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <div class="text-yellow-100">
                    <h3 class="font-semibold mb-2">⚠️ Backend Required</h3>
                    <p class="text-sm leading-relaxed">
                        This HTML version needs a backend server to work with the Suno HackMIT API. 
                        The API key must be stored server-side for security. 
                        <strong>Use the Next.js starter app from the HackMIT docs instead.</strong>
                    </p>
                    <div class="mt-3 p-3 bg-black/20 rounded-lg text-xs font-mono">
                        <div>1. yarn install</div>
                        <div>2. Add SUNO_API_KEY to .env.local</div>
                        <div>3. yarn dev</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Demo Form (Non-functional) -->
        <div class="glass-effect rounded-2xl p-6 mb-6">
            <form id="musicForm" class="space-y-6">
                
                <!-- Song Description -->
                <div>
                    <label class="block text-white font-medium mb-2">Song Description *</label>
                    <textarea 
                        id="prompt" 
                        placeholder="An upbeat pop song about coding at a hackathon"
                        class="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:border-blue-400 focus:outline-none resize-none"
                        rows="3"
                        required
                    ></textarea>
                </div>

                <!-- Style Tags -->
                <div>
                    <label class="block text-white font-medium mb-2">Style Tags (Optional)</label>
                    <input 
                        type="text" 
                        id="tags"
                        placeholder="pop, electronic, energetic"
                        class="w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:border-blue-400 focus:outline-none"
                    />
                    <p class="text-white/60 text-sm mt-1">Add musical style descriptors (comma-separated)</p>
                </div>

                <!-- Make Instrumental -->
                <div>
                    <label class="flex items-center text-white">
                        <input type="checkbox" id="makeInstrumental" class="mr-2 rounded">
                        Make it instrumental (no vocals)
                    </label>
                </div>

                <!-- Generate Button -->
                <button 
                    type="submit" 
                    id="generateBtn"
                    class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 px-6 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 btn-hover transition-all duration-200 text-lg"
                >
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"/>
                    </svg>
                    Generate Song
                </button>

            </form>
        </div>

        <!-- Status Section (Demo) -->
        <div id="statusSection" class="glass-effect rounded-2xl p-6 mb-6 hidden">
            <div class="flex items-center gap-3 mb-4">
                <svg class="h-5 w-5 text-blue-400 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                </svg>
                <span class="text-white font-medium">Generating your song<span class="loading-dots"></span></span>
            </div>
            <p id="statusText" class="text-white/70 text-sm mb-3">This typically takes 1-2 minutes...</p>
            <div class="w-full bg-white/20 rounded-full h-3">
                <div id="progressBar" class="progress-bar h-3 rounded-full transition-all duration-300" style="width: 0%"></div>
            </div>
            <div class="mt-3 text-white/60 text-xs">
                Status: <span id="currentStatus">Submitted</span> • 
                Polling every 5 seconds...
            </div>
        </div>

        <!-- Generated Music Section -->
        <div id="musicSection" class="glass-effect rounded-2xl p-6 mb-6 hidden">
            <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-2">
                <svg class="h-6 w-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3l14 9-14 9V3z"/>
                </svg>
                Your Generated Song
            </h2>
            <div id="musicResults">
                <!-- Demo result would appear here -->
            </div>
        </div>

        <!-- Backend Implementation Guide -->
        <div class="glass-effect rounded-2xl p-6 mb-6">
            <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                </svg>
                Required Backend Implementation
            </h3>
            
            <div class="space-y-4 text-white/90">
                <div class="bg-black/30 rounded-lg p-4">
                    <h4 class="font-semibold text-blue-300 mb-2">1. API Route: /api/generate-music</h4>
                    <pre class="text-xs overflow-x-auto text-green-300"><code>// POST /api/generate-music/route.ts
export async function POST(request: Request) {
  const { prompt, tags, makeInstrumental } = await request.json();
  
  const response = await fetch('https://api.suno.ai/api/v2/external/hackmit/', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${process.env.SUNO_API_KEY}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      prompt,
      tags,
      make_instrumental: makeInstrumental
    })
  });
  
  const data = await response.json();
  return Response.json({ 
    success: true, 
    clips: [data] // Wrap single clip in array
  });
}</code></pre>
                </div>

                <div class="bg-black/30 rounded-lg p-4">
                    <h4 class="font-semibold text-blue-300 mb-2">2. API Route: /api/check-status</h4>
                    <pre class="text-xs overflow-x-auto text-green-300"><code>// POST /api/check-status/route.ts
export async function POST(request: Request) {
  const { clipIds } = await request.json();
  
  const response = await fetch(
    `https://api.suno.ai/api/v2/external/hackmit/clips?ids=${clipIds.join(',')}`,
    {
      headers: {
        'Authorization': `Bearer ${process.env.SUNO_API_KEY}`
      }
    }
  );
  
  const clips = await response.json();
  return Response.json({ success: true, clips });
}</code></pre>
                </div>

                <div class="bg-black/30 rounded-lg p-4">
                    <h4 class="font-semibold text-blue-300 mb-2">3. Environment Variables (.env.local)</h4>
                    <pre class="text-xs text-yellow-300"><code>SUNO_API_KEY=your_hackmit_suno_api_key_here</code></pre>
                </div>

                <div class="bg-black/30 rounded-lg p-4">
                    <h4 class="font-semibold text-blue-300 mb-2">4. Frontend API Calls</h4>
                    <pre class="text-xs overflow-x-auto text-green-300"><code>// Start generation
const response = await fetch('/api/generate-music', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ prompt, tags, makeInstrumental })
});

// Check status
const statusResponse = await fetch('/api/check-status', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ clipIds: [clipId] })
});</code></pre>
                </div>
            </div>
        </div>

    </div>

    <script>
        // This is a demo interface - the actual implementation requires a backend server
        
        const elements = {
            form: document.getElementById('musicForm'),
            generateBtn: document.getElementById('generateBtn'),
            statusSection: document.getElementById('statusSection'),
            musicSection: document.getElementById('musicSection')
        };

        elements.form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show demo error
            showDemoAlert();
        });

        function showDemoAlert() {
            const prompt = document.getElementById('prompt').value;
            const tags = document.getElementById('tags').value;
            
            if (!prompt.trim()) {
                alert('Please enter a song description!');
                return;
            }

            alert(`🚨 Demo Mode 🚨\n\nThis would generate:\n"${prompt}"\nTags: "${tags || 'none'}"\n\nTo make this work, you need:\n1. A Next.js backend server\n2. API routes (/api/generate-music, /api/check-status)\n3. Your HackMIT Suno API key in .env.local\n\nUse the official HackMIT starter app instead!`);
        }

        // Demo progress animation (non-functional)
        function showDemoProgress() {
            elements.statusSection.classList.remove('hidden');
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    showDemoResult();
                }
                document.getElementById('progressBar').style.width = `${progress}%`;
                document.getElementById('statusText').textContent = `Generating... ${Math.floor(progress)}% complete`;
            }, 500);
        }

        function showDemoResult() {
            elements.musicSection.classList.remove('hidden');
            document.getElementById('musicResults').innerHTML = `
                <div class="bg-white/10 rounded-lg p-4">
                    <h3 class="text-white font-medium text-lg mb-2">🎵 HackMIT Anthem</h3>
                    <p class="text-white/70 text-sm mb-4">Generated from: "An upbeat pop song about coding at a hackathon"</p>
                    <div class="bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg p-8 text-center">
                        <svg class="h-16 w-16 text-white mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"/>
                        </svg>
                        <p class="text-white text-lg font-semibold">🚧 Demo Mode</p>
                        <p class="text-white/80 text-sm mt-2">Audio player would appear here with the generated song</p>
                    </div>
                </div>
            `;
        }
    </script>

</body>
</html>